import{S as v,J as M,a4 as a,a as i,t as f,O as d,a5 as x}from"./index-D_-DzWhp.js";function y(n,u){const{useProvide:s,useInject:t}=p(n);function e(...c){const r=u(...c);return s(r)}return{setupStore:e,useStore:t}}function p(n){const u=Symbol(n);function s(e){return M(u,e),e}function t(){return v(u)}return{useProvide:s,useInject:t}}const{setupStore:h,useStore:j}=y("mix-menu",S);function S(){const n=a(),u=f(),{selectedKey:s}=K(),t=d("");function e(o){t.value=o}function c(){const[o]=s.value.split("/");e(o)}const r=i(()=>u.menus),l=i(()=>{var o;return((o=u.menus.find(m=>m.key===t.value))==null?void 0:o.children)||[]});return x(()=>n.name,()=>{c()},{immediate:!0}),{allMenus:r,childLevelMenus:l,activeFirstLevelMenuKey:t,setActiveFirstLevelMenuKey:e,getActiveFirstLevelMenuKey:c}}function K(){const n=a();return{selectedKey:i(()=>{const{hideInMenu:s,activeMenu:t}=n.meta,e=n.name;return(s?t:e)||e})}}export{j as a,h as s,K as u};
