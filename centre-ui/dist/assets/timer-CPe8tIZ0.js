function j(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function v(){}var m=.7,R=1/m,d="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Y=/^#([0-9a-f]{3,8})$/,Z=new RegExp(`^rgb\\(${d},${d},${d}\\)$`),ee=new RegExp(`^rgb\\(${o},${o},${o}\\)$`),te=new RegExp(`^rgba\\(${d},${d},${d},${y}\\)$`),re=new RegExp(`^rgba\\(${o},${o},${o},${y}\\)$`),ne=new RegExp(`^hsl\\(${y},${o},${o}\\)$`),ie=new RegExp(`^hsla\\(${y},${o},${o},${y}\\)$`),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j(v,C,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S,formatHex:S,formatHex8:fe,formatHsl:ae,formatRgb:A,toString:A});function S(){return this.rgb().formatHex()}function fe(){return this.rgb().formatHex8()}function ae(){return U(this).formatHsl()}function A(){return this.rgb().formatRgb()}function C(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Y.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?D(t):r===3?new a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?k(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z.exec(e))?new a(t[1],t[2],t[3],1):(t=ee.exec(e))?new a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=te.exec(e))?k(t[1],t[2],t[3],t[4]):(t=re.exec(e))?k(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ne.exec(e))?B(t[1],t[2]/100,t[3]/100,1):(t=ie.exec(e))?B(t[1],t[2]/100,t[3]/100,t[4]):F.hasOwnProperty(e)?D(F[e]):e==="transparent"?new a(NaN,NaN,NaN,0):null}function D(e){return new a(e>>16&255,e>>8&255,e&255,1)}function k(e,t,r,n){return n<=0&&(e=t=r=NaN),new a(e,t,r,n)}function se(e){return e instanceof v||(e=C(e)),e?(e=e.rgb(),new a(e.r,e.g,e.b,e.opacity)):new a}function oe(e,t,r,n){return arguments.length===1?se(e):new a(e,t,r,n??1)}function a(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}j(a,oe,Q(v,{brighter(e){return e=e==null?R:Math.pow(R,e),new a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?m:Math.pow(m,e),new a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new a(h(this.r),h(this.g),h(this.b),E(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L,formatHex:L,formatHex8:le,formatRgb:z,toString:z}));function L(){return`#${c(this.r)}${c(this.g)}${c(this.b)}`}function le(){return`#${c(this.r)}${c(this.g)}${c(this.b)}${c((isNaN(this.opacity)?1:this.opacity)*255)}`}function z(){const e=E(this.opacity);return`${e===1?"rgb(":"rgba("}${h(this.r)}, ${h(this.g)}, ${h(this.b)}${e===1?")":`, ${e})`}`}function E(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function h(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function c(e){return e=h(e),(e<16?"0":"")+e.toString(16)}function B(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new s(e,t,r,n)}function U(e){if(e instanceof s)return new s(e.h,e.s,e.l,e.opacity);if(e instanceof v||(e=C(e)),!e)return new s;if(e instanceof s)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),f=Math.max(t,r,n),l=NaN,x=f-i,_=(f+i)/2;return x?(t===f?l=(r-n)/x+(r<n)*6:r===f?l=(n-t)/x+2:l=(t-r)/x+4,x/=_<.5?f+i:2-f-i,l*=60):x=_>0&&_<1?0:l,new s(l,x,_,e.opacity)}function xe(e,t,r,n){return arguments.length===1?U(e):new s(e,t,r,n??1)}function s(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}j(s,xe,Q(v,{brighter(e){return e=e==null?R:Math.pow(R,e),new s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?m:Math.pow(m,e),new s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new a(P(e>=240?e-240:e+120,i,n),P(e,i,n),P(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new s(G(this.h),N(this.s),N(this.l),E(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=E(this.opacity);return`${e===1?"hsl(":"hsla("}${G(this.h)}, ${N(this.s)*100}%, ${N(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G(e){return e=(e||0)%360,e<0?e+360:e}function N(e){return Math.max(0,Math.min(1,e||0))}function P(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var ce={value:()=>{}};function he(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new H(r)}function H(e){this._=e}function ue(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}H.prototype=he.prototype={constructor:H,on:function(e,t){var r=this._,n=ue(e+"",r),i,f=-1,l=n.length;if(arguments.length<2){for(;++f<l;)if((i=(e=n[f]).type)&&(i=de(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++f<l;)if(i=(e=n[f]).type)r[i]=J(r[i],e.name,t);else if(t==null)for(i in r)r[i]=J(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new H(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,f;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],n=0,i=f.length;n<i;++n)f[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,f=n.length;i<f;++i)n[i].value.apply(t,r)}};function de(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function J(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=ce,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var g=0,p=0,b=0,V=1e3,M,w,q=0,u=0,I=0,$=typeof performance=="object"&&performance.now?performance:Date,W=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function X(){return u||(W(ge),u=$.now()+I)}function ge(){u=0}function T(){this._call=this._time=this._next=null}T.prototype=be.prototype={constructor:T,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?X():+r)+(t==null?0:+t),!this._next&&w!==this&&(w?w._next=this:M=this,w=this),this._call=e,this._time=r,O()},stop:function(){this._call&&(this._call=null,this._time=1/0,O())}};function be(e,t,r){var n=new T;return n.restart(e,t,r),n}function pe(){X(),++g;for(var e=M,t;e;)(t=u-e._time)>=0&&e._call.call(void 0,t),e=e._next;--g}function K(){u=(q=$.now())+I,g=p=0;try{pe()}finally{g=0,me(),u=0}}function we(){var e=$.now(),t=e-q;t>V&&(I-=t,q=e)}function me(){for(var e,t=M,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:M=r);w=e,O(n)}function O(e){if(!g){p&&(p=clearTimeout(p));var t=e-u;t>24?(e<1/0&&(p=setTimeout(K,e-$.now()-I)),b&&(b=clearInterval(b))):(b||(q=$.now(),b=setInterval(we,V)),g=1,W(K))}}export{T,C as c,he as d,X as n,oe as r,be as t};
