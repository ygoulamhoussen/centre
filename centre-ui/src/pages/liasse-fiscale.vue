<script setup lang="ts">
import { useRouter } from 'vue-router'
import { CalculatorOutline, ScaleOutline, ConstructOutline, InformationCircleOutline, PersonOutline, PieChartOutline, WarningOutline } from '@vicons/ionicons5'

const router = useRouter()

definePage({
  meta: {
    title: 'Liasse Fiscale',
    icon: 'material-symbols:account-balance-outline',
    order: 19,
  },
})

</script>

<template>
  <div class="comptabilite-page">
    <n-card title="üìä Liasse fiscale LMNP" class="mb-4">
      <div class="text-gray-600 mb-6">
        <p>Acc√©dez √† tous les modules de la liasse fiscale LMNP :</p>
      </div>

      <n-grid :cols="7" :x-gap="16" :y-gap="16">
        <!-- R√©sultat Fiscal -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-B" 
            subtitle="R√©sultat fiscal LMNP"
            class="module-card"
            @click="router.push('/resultat-fiscal')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-blue-500">
                <CalculatorOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Calcul du r√©sultat fiscal de l'exercice</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Recettes locatives</li>
                <li>‚Ä¢ Charges d√©ductibles</li>
                <li>‚Ä¢ R√©sultat imposable</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- Bilan Simplifi√© -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-A" 
            subtitle="Bilan simplifi√© LMNP"
            class="module-card"
            @click="router.push('/bilan-simplifie')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-green-500">
                <ScaleOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">√âtat du patrimoine √† la cl√¥ture</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Actif (immobilisations, tr√©sorerie)</li>
                <li>‚Ä¢ Passif (emprunts, capitaux)</li>
                <li>‚Ä¢ √âquilibre du bilan</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- Suivi Immobilisations -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-C" 
            subtitle="Suivi immobilisations"
            class="module-card"
            @click="router.push('/suivi-immobilisations')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-purple-500">
                <ConstructOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Suivi des immobilisations et amortissements</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ D√©tail par immobilisation</li>
                <li>‚Ä¢ Amortissements cumul√©s</li>
                <li>‚Ä¢ Valeur nette comptable</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- Capital et Identit√©s -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-D" 
            subtitle="Capital et identit√©s"
            class="module-card"
            @click="router.push('/capital-identites')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-orange-500">
                <PersonOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Renseignements sur l'exploitant</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Identit√© de l'exploitant</li>
                <li>‚Ä¢ Apports au capital</li>
                <li>‚Ä¢ Qualit√© et parts</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- R√©partition des Charges -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-E" 
            subtitle="R√©partition des charges"
            class="module-card"
            @click="router.push('/repartition-charges')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-red-500">
                <PieChartOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Ventilation des charges par nature</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Achats et fournitures</li>
                <li>‚Ä¢ Charges externes</li>
                <li>‚Ä¢ Imp√¥ts et taxes</li>
                <li>‚Ä¢ Amortissements</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- Produits et Charges Exceptionnels -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-F" 
            subtitle="Produits et charges exceptionnels"
            class="module-card"
            @click="router.push('/produits-charges-exceptionnels')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-yellow-500">
                <WarningOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Op√©rations non courantes</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Produits exceptionnels</li>
                <li>‚Ä¢ Charges exceptionnelles</li>
                <li>‚Ä¢ Plus/moins-values</li>
                <li>‚Ä¢ Ventes de biens</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>

        <!-- Soldes Interm√©diaires de Gestion -->
        <n-grid-item>
          <n-card 
            title="üìÑ Formulaire 2033-G" 
            subtitle="Soldes interm√©diaires de gestion"
            class="module-card"
            @click="router.push('/soldes-intermediaires-gestion')"
          >
            <template #header-extra>
              <n-icon size="24" class="text-indigo-500">
                <CalculatorOutline />
              </n-icon>
            </template>
            <div class="space-y-2">
              <p class="text-sm text-gray-600">Analyse de la rentabilit√©</p>
              <ul class="text-xs text-gray-500 space-y-1">
                <li>‚Ä¢ Production et consommation</li>
                <li>‚Ä¢ Valeur ajout√©e et EBE</li>
                <li>‚Ä¢ R√©sultats par √©tapes</li>
                <li>‚Ä¢ Calculs automatiques</li>
              </ul>
            </div>
          </n-card>
        </n-grid-item>
      </n-grid>

      <!-- Informations compl√©mentaires -->
      <n-card title="‚ÑπÔ∏è Informations" size="small" class="mt-6">
        <n-alert type="info">
          <template #icon>
            <n-icon><InformationCircleOutline /></n-icon>
          </template>
          <div class="space-y-2">
            <p><strong>LMNP (Loueur Meubl√© Non Professionnel) :</strong></p>
            <ul class="list-disc list-inside space-y-1 text-sm">
              <li>R√©gime fiscal pour les propri√©taires louant des biens meubl√©s</li>
              <li>Obligation de tenir une comptabilit√© compl√®te</li>
              <li>D√©claration annuelle avec les formulaires 2033-A, 2033-B, 2033-C, 2033-D, 2033-E, 2033-F et 2033-G</li>
              <li>Amortissement des immobilisations sur leur dur√©e d'usage</li>
            </ul>
          </div>
        </n-alert>
      </n-card>
    </n-card>
  </div>
</template>

<style scoped>
.comptabilite-page {
  padding: 20px;
}

.module-card {
  cursor: pointer;
  transition: all 0.3s ease;
  height: 100%;
}

.module-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.module-card .n-card-header {
  border-bottom: 1px solid #f0f0f0;
}

.module-card .n-card__content {
  padding: 16px;
}
</style> 